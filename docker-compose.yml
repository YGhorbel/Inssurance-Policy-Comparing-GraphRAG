version: '3.8'

services:
  minio:
    image: minio/minio
    container_name: minio
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: minioadmin
      MINIO_ROOT_PASSWORD: minioadmin
    command: server /data --console-address ":9001"
    volumes:
      - ./data/minio:/data
    restart: always

  neo4j:
    image: neo4j:latest
    # container_name: neo4j # Removed as per instruction snippet
    ports:
      - "7474:7474"
      - "7687:7687"
    environment:
      NEO4J_AUTH: ${NEO4J_USER:-neo4j}/${NEO4J_PASSWORD:-password} # Updated as per instruction snippet
      NEO4J_PLUGINS: '["apoc", "graph-data-science"]'
    volumes:
      - ./data/neo4j/data:/data
      - ./data/neo4j/logs:/logs
    restart: always

  qdrant:
    image: qdrant/qdrant
    container_name: qdrant
    ports:
      - "6333:6333"
    volumes:
      - ./data/qdrant:/qdrant/storage
